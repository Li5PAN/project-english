# 英语学习系统数据库表结构设计

## 1. 用户表（sys_user）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| user_id | 用户ID | bigint(20) | √ | √ | | 唯一标识 |
| user_name | 用户账号 | varchar(30) | | √ | | 登录账号 |
| nick_name | 用户昵称 | varchar(30) | | √ | | 显示名称 |
| password | 密码 | varchar(100) | | √ | | 加密存储 |
| status | 账号状态 | char(1) | | √ | '0' | 0正常 1停用 |
| current_class_id | 当前班级ID | bigint(20) | | | NULL | 外键 |
| join_class_time | 加入班级时间 | datetime | | | NULL | |
| user_level | 用户等级 | int(11) | | | 0 | |
| total_study_time | 累计学习时长 | int(11) | | | 0 | 单位：秒 |
| total_tasks_completed | 累计完成任务数 | int(11) | | | 0 | |
| create_time | 创建时间 | datetime | | | NULL | |

## 2. 角色表（sys_role）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| role_id | 角色ID | bigint(20) | √ | √ | | 唯一标识 |
| role_name | 角色名称 | varchar(30) | | √ | | 学生/老师/管理员 |
| role_key | 角色权限字符串 | varchar(100) | | √ | | student/teacher/admin |
| status | 角色状态 | char(1) | | √ | '0' | 0正常 1停用 |
| create_time | 创建时间 | datetime | | | NULL | |

## 3. 用户角色关联表（sys_user_role）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| user_id | 用户ID | bigint(20) | √ | √ | | 外键 |
| role_id | 角色ID | bigint(20) | √ | √ | | 外键 |

## 4. 班级表（elia_class）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| class_id | 班级ID | bigint(20) | √ | √ | | 唯一标识 |
| class_name | 班级名称 | varchar(50) | | √ | | |
| class_code | 班级代码 | varchar(30) | | √ | | 唯一 |
| class_level | 班级等级 | char(1) | | √ | | A/B/C/D |
| teacher_id | 教师ID | bigint(20) | | √ | | 外键 |
| class_description | 班级描述 | varchar(200) | | | NULL | |
| max_students | 最大学生数 | int(11) | | √ | 40 | 30-50 |
| current_students | 当前学生数 | int(11) | | √ | 0 | |
| task_requirement | 任务完成要求 | int(11) | | √ | 80 | |
| class_status | 班级状态 | char(1) | | √ | '0' | 0正常 1停用 |
| is_public | 是否公开 | char(1) | | √ | '1' | 0私有 1公开 |
| create_time | 创建时间 | datetime | | | NULL | |

## 5. 班级成员表（elia_class_member）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| member_id | 成员ID | bigint(20) | √ | √ | | 唯一标识 |
| class_id | 班级ID | bigint(20) | | √ | | 外键 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| join_time | 加入时间 | datetime | | √ | | |
| member_role | 成员角色 | char(1) | | √ | '0' | 0学生 1助教 |
| is_first_join | 是否首次加入 | tinyint(1) | | √ | 1 | |
| completed_tasks | 已完成任务数 | int(11) | | | 0 | |
| total_study_time | 累计学习时长 | int(11) | | | 0 | 单位：秒 |
| mastery_words | 掌握单词数 | int(11) | | | 0 | |
| class_rank | 班级排名 | int(11) | | | NULL | |
| member_status | 成员状态 | char(1) | | √ | '0' | 0正常 1申请中 2已退出 |
| last_active_time | 最后活跃时间 | datetime | | | NULL | |

## 6. 班级申请记录表（elia_class_application）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| application_id | 申请ID | bigint(20) | √ | √ | | 唯一标识 |
| applicant_id | 申请人ID | bigint(20) | | √ | | 外键 |
| class_id | 目标班级ID | bigint(20) | | √ | | 外键 |
| application_type | 申请类型 | char(1) | | √ | | 1入班 2换班 3退班 |
| original_class_id | 原班级ID | bigint(20) | | | NULL | 换班时使用，外键 |
| application_reason | 申请理由 | varchar(500) | | | NULL | |
| application_time | 申请时间 | datetime | | √ | | |
| application_status | 申请状态 | char(1) | | √ | '0' | 0待审核 1通过 2拒绝 |
| audit_time | 审核时间 | datetime | | | NULL | |
| audit_by | 审核人ID | bigint(20) | | | NULL | 外键 |
| audit_remark | 审核备注 | varchar(500) | | | NULL | |

## 7. 任务表（elia_task）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| task_id | 任务ID | bigint(20) | √ | √ | | 唯一标识 |
| task_name | 任务名称 | varchar(100) | | √ | | |
| task_type | 任务类型 | char(1) | | √ | | 单词学习/阅读理解/听力练习等 |
| class_id | 班级ID | bigint(20) | | √ | | 外键 |
| teacher_id | 教师ID | bigint(20) | | √ | | 外键 |
| question_count | 题目数量 | int(11) | | | 0 | |
| total_score | 总分 | decimal(10,2) | | | 0 | |
| pass_score | 及格分 | decimal(10,2) | | | 0 | |
| task_status | 任务状态 | char(1) | | √ | '0' | 0待发布 1进行中 2已结束 |
| create_time | 创建时间 | datetime | | | NULL | |

## 8. 任务题目表（elia_task_question）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| question_id | 题目ID | bigint(20) | √ | √ | | 唯一标识 |
| task_id | 任务ID | bigint(20) | | √ | | 外键 |
| question_type | 题目类型 | char(1) | | √ | | 选择题/填空题/单词拼写 |
| question_content | 题目内容 | text | | √ | | |
| option_content | 选项内容 | text | | | NULL | 选择题使用 |
| correct_answer | 正确答案 | text | | √ | | |
| score | 分值 | decimal(10,2) | | √ | 0 | |
| difficulty_level | 难度等级 | int(11) | | | 1 | 1-5 |

## 9. 学生任务记录表（elia_student_task）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| record_id | 记录ID | bigint(20) | √ | √ | | 唯一标识 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| task_id | 任务ID | bigint(20) | | √ | | 外键 |
| class_id | 班级ID | bigint(20) | | √ | | 外键 |
| total_score | 总得分 | decimal(10,2) | | | 0 | |
| correct_count | 正确题数 | int(11) | | | 0 | |
| wrong_count | 错误题数 | int(11) | | | 0 | |
| task_status | 任务状态 | char(1) | | √ | '0' | 0未开始 1进行中 2已完成 |
| is_passed | 是否通过 | char(1) | | | '0' | 0未通过 1已通过 |
| create_time | 创建时间 | datetime | | | NULL | |

## 10. 单词库（elia_word_library）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| word_id | 单词ID | bigint(20) | √ | √ | | 唯一标识 |
| english_word | 英文单词 | varchar(100) | | √ | | |
| phonetic_uk | 英式音标 | varchar(100) | | | NULL | |
| phonetic_us | 美式音标 | varchar(100) | | | NULL | |
| chinese_meaning | 中文释义 | varchar(500) | | √ | | |
| word_type | 词性 | varchar(50) | | | NULL | 名词/动词/形容词等 |
| difficulty_level | 难度等级 | int(11) | | | 1 | 1-5 |
| example_sentence | 例句 | varchar(500) | | | NULL | |

## 11. 用户单词学习记录表（elia_user_word_record）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| record_id | 记录ID | bigint(20) | √ | √ | | 唯一标识 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| word_id | 单词ID | bigint(20) | | √ | | 外键 |
| study_count | 学习次数 | int(11) | | | 0 | |
| correct_count | 正确次数 | int(11) | | | 0 | |
| wrong_count | 错误次数 | int(11) | | | 0 | |
| mastery_level | 掌握程度 | int(11) | | | 0 | 0-5 |
| is_mastered | 是否已掌握 | char(1) | | | '0' | 0未掌握 1已掌握 |

## 12. 单词收藏表（elia_word_collection）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| collection_id | 收藏ID | bigint(20) | √ | √ | | 唯一标识 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| word_id | 单词ID | bigint(20) | | √ | | 外键 |
| collection_group | 收藏分组 | varchar(50) | | | '默认' | |
| tags | 标签 | varchar(200) | | | NULL | |
| notes | 个人笔记 | text | | | NULL | |
| create_time | 收藏时间 | datetime | | | NULL | |

## 13. 错题记录表（elia_wrong_question）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| wrong_id | 错题ID | bigint(20) | √ | √ | | 唯一标识 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| task_id | 任务ID | bigint(20) | | √ | | 外键 |
| question_id | 题目ID | bigint(20) | | √ | | 外键 |
| class_id | 班级ID | bigint(20) | | √ | | 外键 |
| question_type | 题目类型 | char(1) | | | NULL | 选择题/填空题/单词拼写 |
| question_content | 题目内容 | text | | | NULL | |
| correct_answer | 正确答案 | text | | √ | | |
| student_answer | 学生答案 | text | | √ | | |
| wrong_count | 错误次数 | int(11) | | | 1 | |
| is_mastered | 是否已掌握 | char(1) | | | '0' | 0未掌握 1已掌握 |
| explanation | 解析说明 | text | | | NULL | |
| error_date | 错误日期 | datetime | | | NULL | |
| create_time | 创建时间 | datetime | | | NULL | |

## 14. 学习记录表（elia_learning_record）

| 字段 | 名称 | 数据类型 | 主键 | 非空 | 默认值 | 备注说明 |
|------|------|---------|------|------|--------|---------|
| record_id | 记录ID | bigint(20) | √ | √ | | 唯一标识 |
| user_id | 用户ID | bigint(20) | | √ | | 外键 |
| class_id | 班级ID | bigint(20) | | √ | | 外键 |
| record_date | 记录日期 | date | | √ | | |
| study_duration | 学习时长 | int(11) | | | 0 | 单位：秒 |
| words_studied | 学习单词数 | int(11) | | | 0 | |
| words_mastered | 掌握单词数 | int(11) | | | 0 | |
| correct_rate | 正确率 | decimal(5,2) | | | 0 | 百分比 |
| create_time | 创建时间 | datetime | | | NULL | |
